%!TEX root = ../dokumentation.tex

\chapter{Einleitung}
Diese Studienarbeit ist eine Fortsetzung mehrerer Studienarbeiten des vergangenen Jahres. Diese beiden Studienarbeiten bestanden darin einen Airhockey-Tisch zu bauen an denen ein ABB Roboter anschließend Airhockey spielen kann. Die Zweite Studienarbeit bestand darin diesem Roboter das Airhockeyspielen beizubringen. Wir führen somit die zweite Studienarbeit weiter. Unsere Vorgänger sind so weit gekommen, dass sie die Bilderkennung soweit fertig hatten, dass der Puck auf dem Spielfeld mithilfe einer Kamera erkannt werden konnte. Zusätzlich konnte eine recht genaue Flugbahn des Puckes bereits berechnet werden. Diese Infos wurden alle auf einer grafischen Oberfläche anschaulich dargestellt. Die Studienarbeit ist dann daran hängen geblieben, dass der Roboter noch nicht zur Verfügung stand. An dieser Stelle setzen wir mit unserer Studienarbeit an. Wir haben dafür die bereits erstellte Softwarearchitektur der Vorgänger übernommen und erweitert. Sie haben eine Art des Event"~Busses verwendet. Jede Komponente bekommt dabei vom Event"~Bus eine bestimmte Art von Info und gibt dem Event"~Bus eine bestimmte Art von Info. Diese Infos werden in einer \enquote{Bag} gespeichert und weitergegeben. 

\newpage

\chapter{Aufgabenstellung}
Das Ziel dieser Studienarbeit ist es einem Roboter von ABB das Airhockey spielen beizubringen. Da dies eine Fortsetzung einer früheren Studienarbeit ist, waren einige Dinge schon fertig. Wir werden auf diese Dinge in unserer Studienarbeit nicht weiter eingehen, da sie in der Studienarbeit unserer Vorgänger schon ausreichend erklärt wurden. Die Arbeit besteht grundlegend aus zwei Teilen. Der eine Teil ist die Ansteuerung des Roboters, das durch ein Programm auf dem Roboter realisiert wird. Der zweite Teil ist die Strategie des Roboters, die auf einem externen Rechner ausgearbeitet wird.
Durch diese beiden physikalisch getrennten Programme ist eine Kommunikation zwischen beiden vonnöten. Dies war ein weiterer Punkt dem wir uns in der Studienarbeit gewidmet haben.

\newpage

\chapter{Herangehensweise}
Unser erster Schritt bestand darin uns mit dem Projekt vertraut zu machen. Dies bestand darin uns mit ABB Robot Studio vertraut zu machen und den PC einzurichten auf dem die Bildanalyse und die Roboter-KI laufen soll. Dazu mussten auf dem PC einige Bibliotheken nachinstalliert werden, insbesondere Bibliotheken von OpenCV, die zur Bildanalyse benötigt werden. Anschließend wurde die Kommunikation zwischen PC und Roboter in Angriff genommen. Die Kommunikation findet mithilfe von Sockets statt. Nachdem die Kommunikation zwischen dem PC und dem Roboter stand, wurde eine erste simple Defensivstrategie ausgearbeitet. Diese hat bis zum Ende des 5. Semesters erstmal funktioniert. In einigen Punkten hatte diese noch etwas geschwächelt, aber für den ersten Versuch hat sie besser funktioniert als erwartet.

Für das 6. Semester wurde als erstes die Kommunikation erweitert, da diese zum Ende des 5. Semesters nur eine x-Koordinate sendete und der Roboter eine feste y-Koordinate verwendet hat. Da der Roboter und das Bilderkennungsprogramm leicht unterschiedliche Koordinatensysteme verwenden, musste dafür noch eine bessere Umrechnungsfunktion gefunden werden, bei der möglichst geringe Ungenauigkeiten entstehen. Danach konnte man sich voll und ganz an die Strategien des Roboters wenden. Dazu wurde zunächst die Defensive Strategie überarbeitet. Sobald diese funktionierte, haben wir offensive und eine ausbalancierte Strategie implementiert. Innerhalb des Codes befinden sich einige Konfigurationsvariablen. Bis zum ende des 5. Semesters konnte man diese nur im Code ändern. Diese sollten bis zum Ende in eine Konfigurationsdatei ausgelagert werden. Bis zum Ende der Studienarbeit haben wir es nicht geschafft diese Konfigurationsdatei zu erstellen. Wir haben lediglich eine eigene Klasse in der alle Konstanten drin stehen, die im kompletten Programm verwendet werden.

